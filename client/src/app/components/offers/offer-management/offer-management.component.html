<div class="offer-container" *ngIf="access">
    <div class="offer-component">
        <h2 *ngIf="offer">Edytuj ofertę</h2>
        <h2 *ngIf="!offer">Dodaj ofertę</h2>
        <form [formGroup]="offerForm" (ngSubmit)="onSubmit()">

            <div class="form-group">
                <label for="title">Tytuł</label>
                <input type="text" formControlName="title" class="form-control"
                    [ngClass]="{ 'is-invalid': submitted && f.title.errors }" />

                <div *ngIf="submitted && f.title.errors" class="invalid-feedback">
                    <div *ngIf="f.title.errors.required">Title is required</div>
                </div>
            </div>

            <div class="form-group">
                <label for="categoryId">Kategoria</label>
                <select formControlName="categoryId" required class="custom-select">
                    <option *ngFor="let category of categories" [value]="category.id">
                        {{category.categoryName}}
                    </option>
                </select>

                <div *ngIf="submitted && f.categoryId.errors" class="custom-invalid-feedback">
                    <div *ngIf="f.categoryId.errors.required">Category is required</div>
                </div>
            </div>

            <div class="form-group">
                <label for="description">Opis</label>
                <textarea type="text" formControlName="description" class="form-control" rows="10"
                    [ngClass]="{ 'is-invalid': submitted && f.description.errors }" ></textarea>

                <div *ngIf="submitted && f.description.errors" class="invalid-feedback">
                    <div *ngIf="f.description.errors.required">Description is required</div>
                </div>
            </div>

            <div class="form-group">
                <label for="price">Cena</label>
                <input type="number" formControlName="price" class="form-control"
                    [ngClass]="{ 'is-invalid': submitted && f.price.errors }" />

                <div *ngIf="submitted && f.price.errors" class="invalid-feedback">
                    <div *ngIf="f.price.errors.required">Price is required</div>
                    <div *ngIf="f.price.errors.min || f.price.errors.max">Price should be between 0 and 99999</div>
                </div>
            </div>

            <div class="form-group">
                <label for="phoneNumber">Numer kontaktowy</label>
                <input type="text" formControlName="phoneNumber" class="form-control"
                    [ngClass]="{ 'is-invalid': submitted && f.phoneNumber.errors }" />

                <div *ngIf="submitted && f.phoneNumber.errors" class="invalid-feedback">
                    <div *ngIf="f.phoneNumber.errors.required">Contact number is required</div>
                </div>
            </div>


            <div class="form-group">
                <button [disabled]="loading" class="btn btn-primary">
                    <span *ngIf="loading" class="spinner-border spinner-border-sm mr-1"></span>
                    <span *ngIf="!offer">Dodaj</span>
                    <span *ngIf="offer">Zaktualizuj</span>
                </button>
            </div>
        </form>
    </div>
</div>